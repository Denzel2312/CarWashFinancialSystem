@model List<CarWashLoggingServer.Models.LogEntry>
@{
    ViewData["Title"] = "CarWash Logs";
}

<style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
    .log-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    .log-table th, .log-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    .log-table th { background: #007cba; color: white; }
    .log-table tr:nth-child(even) { background: #f9f9f9; }
    .log-table tr:hover { background: #f0f0f0; }
    .level-info { color: #28a745; }
    .level-warn { color: #ffc107; }
    .level-error { color: #dc3545; font-weight: bold; }
    .filters { background: #e9ecef; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
    .stats { background: #d4edda; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
</style>

<div class="container">
    <h1>üöó CarWash –°–∏—Å—Ç–µ–º–Ω—ã–µ –õ–æ–≥–∏</h1>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats">
        <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong>
        –í—Å–µ–≥–æ: @ViewBag.Stats.TotalLogs | 
        –°–µ–≥–æ–¥–Ω—è: @ViewBag.Stats.TodayLogs | 
        –û—à–∏–±–∫–∏: @ViewBag.Stats.Errors | 
        –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: @ViewBag.Stats.Warnings |
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: @ViewBag.Stats.UniqueUsers
       @*  <a href="/Home/Stats" style="margin-left: 20px;">üìä Detailed Stats</a> *@
        <a href="/Home/Add" style="margin-left: 20px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥</a>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã -->
<div class="filters">
    <form method="get">
        <!-- —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
        <label>–í–∏–¥</label>
        <select name="level">
            <option value="">–í—Å–µ</option>
            <option value="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" selected=@(ViewBag.SelectedLevel == "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</option>
            <option value="–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ" selected=@(ViewBag.SelectedLevel == "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ")>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</option>
            <option value="–û—à–∏–±–∫–∏" selected=@(ViewBag.SelectedLevel == "–û—à–∏–±–∫–∞")>–û—à–∏–±–∫–∞</option>
        </select>

        <label style="margin-left: 20px;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</label>
        <input type="text" name="user" value="@ViewBag.SelectedUser" placeholder="–§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º" />

        <button type="submit" style="margin-left: 20px;">–§–∏–ª—å—Ç—Ä</button>
        <a href="/" style="margin-left: 10px;">–û—á–∏—Å—Ç–∏—Ç—å</a>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
        <button type="button" onclick="location.reload()" style="margin-left: 20px; background: #28a745; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">
            üîÑ –û–±–Ω–æ–≤–∏—Ç—å
        </button>
    </form>
</div>
    <!-- –¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤ -->
    <table class="log-table">
        <thead>
            <tr>
                <th>–í—Ä–µ–º—è</th>
                <th>–í–∏–¥</th>
                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                <th>–°–æ–æ–±—â–µ–Ω–∏–µ</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var log in Model)
            {
                <tr>
                    <td>@log.Timestamp.ToString("yyyy-MM-dd HH:mm:ss")</td>
                    <td class="level-@log.Level.ToLower()">@log.Level</td>
                    <td>@log.User</td>
                    <td>@log.Component</td>
                    <td>@log.Message</td>
                </tr>
            }
        </tbody>
    </table>

    @if (!Model.Any())
    {
        <p style="text-align: center; color: #666; margin-top: 40px;">–õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
    }
</div>