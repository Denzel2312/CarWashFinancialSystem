<Page x:Class="CarWashFinancialSystem.Views.Pages.TransactionsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Транзакции"
      Background="#121212">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Учет финансовых операций" 
                       Foreground="White" FontSize="20" FontWeight="Bold"/>
            <TextBlock Text="Добавление транзакций и просмотр истории операций" 
                       Foreground="#B3B3B3" FontSize="14" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Quick Stats -->
        <Border Grid.Row="1" Background="#1E1E1E" Padding="15" Margin="0,0,0,20" CornerRadius="8">
            <StackPanel Orientation="Horizontal">
                <Border Background="#2D2D2D" Padding="15" Margin="0,0,15,0" CornerRadius="6" Width="200">
                    <StackPanel>
                        <TextBlock Text="Выручка за сегодня" Foreground="#B3B3B3" FontSize="12"/>
                        <TextBlock x:Name="TodayRevenueText" Text="0 руб" Foreground="#4CAF50" FontSize="18" FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <Border Background="#2D2D2D" Padding="15" Margin="0,0,15,0" CornerRadius="6" Width="200">
                    <StackPanel>
                        <TextBlock Text="Операций сегодня" Foreground="#B3B3B3" FontSize="12"/>
                        <TextBlock x:Name="TodayTransactionsText" Text="0" Foreground="#2196F3" FontSize="18" FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <Button Content="➕ Новая транзакция" 
                        Background="#7E57C2" Foreground="Black" Padding="15,10" FontWeight="Bold"
                        Click="AddTransactionButton_Click"/>
            </StackPanel>
        </Border>

        <!-- Transactions List -->
        <Border Grid.Row="2" Background="#1E1E1E" Padding="20" CornerRadius="8">
            <StackPanel>
                <TextBlock Text="История операций" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                <ScrollViewer VerticalScrollBarVisibility="Auto" Height="400">
                    <ListView x:Name="TransactionsListView" 
              Background="Transparent" Foreground="White" BorderThickness="0">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Дата" Width="120" DisplayMemberBinding="{Binding TransactionDate, StringFormat={}{0:dd.MM.yy HH:mm}}"/>
                                <GridViewColumn Header="Услуга" Width="150" DisplayMemberBinding="{Binding Service.Name}"/>
                                <GridViewColumn Header="Тип авто" Width="100" DisplayMemberBinding="{Binding CarType}"/>
                                <GridViewColumn Header="Госномер" Width="100" DisplayMemberBinding="{Binding LicensePlate}"/>
                                <GridViewColumn Header="Сумма" Width="100" DisplayMemberBinding="{Binding Amount, StringFormat={}{0} руб}"/>
                                <GridViewColumn Header="Оплата" Width="100" DisplayMemberBinding="{Binding PaymentMethod}"/>
                                <GridViewColumn Header="Оператор" Width="120" DisplayMemberBinding="{Binding Operator.FullName}"/>
                                <GridViewColumn Header="Примечания" Width="200" DisplayMemberBinding="{Binding Notes}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </ScrollViewer>
            </StackPanel>
        </Border>
    </Grid>
</Page>